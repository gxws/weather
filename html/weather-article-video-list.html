<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>文章详情(视频集)</title>
	<link rel="stylesheet" href="../public/css/common.css" />
	<link rel="stylesheet" href="../public/css/weather-article-video-list.css" />
	<script src="../public/js/template.js"></script>
</head>
<body style="background: url('../public/images/bg-duoyun.jpg') no-repeat;">
	<div id="root"></div>
		
	<script src="../public/js/common.js"></script>
	<script src="../public/js/pagination.js"></script>
	<script id="templateId" type="text/html">
		<div class="article-video-container">
			<img class="article-video-img" src="{{img | defaultImg: '../public/images/default/default7.png'}}" />
			<h1 class="article-video-title">{{title}}</h1>
			<div class="article-video-text"> {{text}}</div>
			<div class="article-video-list">
				{{if lists.length}}
					<span class="prev"></span>
					<table id="listTpl" class="article-video-table">
					</table>
					<span class="next"></span>
				{{else}}
					<div style="text-align: center;font-size: 48px;color: #0a0a0a;margin-top: 25px">尚未更新视频。</div>
				{{/if}}
			</div>
		</div>
		<div id="footer">
			<div class="footer-menu">
				<span id="menu1" class="menu-1"></span>
				<span id="menu2" class="menu-2"></span>
				<span id="menu3" class="menu-3"></span>
				<span id="menu4" class="menu-4"></span>
			</div>
		</div>
		<div id="controller">
			<div class="con-footer">
				{{each footers as v i}}
					<a href="{{v.href}}" onfocus="addFocus('#menu{{i+1}}')" onblur="removeFocus('#menu{{i+1}}')"><img src="../public/images/dot.gif" /></a>
				{{/each}}
			</div>
		</div>
	</script>
	<script id="list" type="text/html">
		{{each list as v i}}
			{{if i === 0 || i === 15}}
				<tr>
			{{/if}}
			<td><a class="A" href="{{v.href}}">{{i+1}}</a></td>
			{{if i === 14 || i === 29}}
				</tr>
			{{/if}}
		{{/each}}
	</script>
	<script>
		var data = {
			title: "气象百问动画",
			text: "美丽的森林村遭遇了一次巨大气象灾害，森林村的居民们小灵狐、大笨龙、小蜜蜂、瘦猴等经过这次气象灾害，深深地认识到气象知识的贫乏和对天气变化的无能为力，于是他们邀请了燕博士来到森林村，在燕博士的指导带领下，森林村建起了气象站，开始自己观测、预报天气，在接下来的实践中，他们不仅接触并了解了种种气象现象，也学到了许多知识,于是他们邀请了燕博士来到森林村，在燕博士的指导带领下。",
			img: "../uploads/image7.png",
			footers: [{
				href: "#",
			},{
				href: "#",
			},{
				href: "#",
			},{
				href: "#",
			}],
			lists: [{
				id: "01",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			},{
				id: "02",
				href: "#"
			}]
		}
		var html = template('templateId', data);
		document.getElementById('root').innerHTML = html;

		pagination({
			template_id: "list",
			container_id: "listTpl",
			size: 30,
			row: 15,
			total: 40,
			items: data.lists,
			callback: function(text) {
				document.getElementById('listTpl').innerHTML = text;
				tableFocus();
			}
		});
		function tableFocus(){
			var talbeA = document.querySelectorAll('table a');
			var arr = Array.prototype.slice.call(talbeA);
			arr.forEach(function(v, i){
				v.onfocus = function(){
					this.parentNode.className += 'focus';
				}
				v.onblur = function(){
					var reg = new RegExp("focus", "g");
					this.parentNode.className = this.parentNode.className.replace(reg, "");
				}
			});
		}
	</script>
</body>
</html>